<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>üéÆ Jeux & Exercices ‚Äì Potion Factory</title>

    <!-- 1. Bootstrap CSS (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <!-- 2. Google Font : Roboto -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <!-- 3. Feuille de styles globale -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- NAVBAR : en-t√™te de navigation responsive -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-purple mb-4">
        <div class="container">
            <a class="navbar-brand" href="index.html">üß™ Potion Factory</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Accueil</a></li>
                    <li class="nav-item"><a class="nav-link" href="tutoriels.html">Jeux & Exercices</a></li>
                    <li class="nav-item"><a class="nav-link active" href="references.html">R√©f√©rences</a></li>
                    <li class="nav-item">
                        <a class="nav-link" href="test.html">Manip variable</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="exo_manip.html"> exo Manip variable</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="doc_manip.html">doc Manip variable</a>
                    </li>
                </ul>
                </div>
                </div>
                </nav>

    <!-- HERO : banni√®re d‚Äôintroduction -->
    <header class="container-fluid px-4 mb-5">
        <div class="hero text-center p-5 rounded bg-purple-dark text-white">
            <!-- Titre principal -->
            <h1 class="display-5 mb-3">üéÆ Jeux & Exercices JS</h1>
            <!-- Sous-titre descriptif -->
            <p class="lead">
                Teste et renforce tes comp√©tences sur <code>var</code>, <code>let</code>, <code>const</code> et les
                fonctions !
            </p>
        </div>
    </header>

    <!-- CONTENU PRINCIPAL : liste des exercices -->
    <main class="container-fluid px-4 pb-5">
        <div class="row gy-4">

            <!-- Exercice 1 : port√©e var vs let -->
            <section class="col-12 col-lg-6">
                <div class="card h-100 shadow-sm">
                    <!-- En-t√™te de la carte -->
                    <div class="card-header">1Ô∏è‚É£ <code>var</code> vs <code>let</code></div>
                    <div class="card-body">
                        <!-- Objectif affich√© -->
                        <p><strong>Objectif :</strong> Comprendre la port√©e (scope) des variables.</p>
                        <!-- √ânonc√© d√©taill√© -->
                        <p><strong>√ânonc√© d√©taill√© :</strong><br>
                            Dans la fonction <code>test()</code>, on d√©clare <code>x</code> avec <code>var</code> et
                            <code>y</code> avec <code>let</code> dans un bloc. Que va afficher la console √† chaque
                            <code>console.log</code> ? Indique les deux r√©sultats, s√©par√©s par une virgule.
                        </p>
                        <!-- Code √† lire -->
                        <pre class="code-snippet"><code>
                            // Code :
                            function test() {
                              if (true) {
                                var x = 1;
                                let y = 2;
                              }
                              console.log(x);
                              console.log(y);
                            }
test();</code></pre>
                        <!-- Zone de saisie de la r√©ponse -->
                        <div class="mb-3">
                            <label for="answer1" class="form-label">Votre r√©ponse :</label>
                            <input type="text" id="answer1" class="form-control" placeholder="ex : 1,ReferenceError">
                        </div>
                        <!-- Boutons d‚Äôaction -->
                        <div class="d-flex gap-2">
                            <button id="check1" class="btn btn-purple">V√©rifier</button>
                            <button id="show1" class="btn btn-outline-secondary">Solution</button>
                            <button id="reset1" class="btn btn-outline-danger">Relancer</button>
                        </div>
                        <!-- Feedback et solution -->
                        <div id="feedback1" class="mt-3"></div>
                        <div id="solution1" class="solution">
                            1 ‚Üí <code>1</code> (x visible hors du bloc)<br>
                            2 ‚Üí <strong>ReferenceError</strong> (y non d√©fini hors du bloc)
                        </div>
                    </div>
                    </div>
                    </section>

            <!-- Exercice 2 : r√©affectation const -->
            <section class="col-12 col-lg-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-header">2Ô∏è‚É£ <code>const</code></div>
                    <div class="card-body">
                        <p><strong>Objectif :</strong> Voir qu‚Äôune constante ne peut pas √™tre r√©affect√©e.</p>
                        <p><strong>√ânonc√© d√©taill√© :</strong><br>
                            On d√©finit <code>const MY_POTION = 'vie'</code>. Compl√®te la ligne suivante pour qu‚Äôelle
                            lance une <code>TypeError</code> lors de l‚Äôex√©cution.
                        </p>
                        <pre class="code-snippet"><code>
                            //‚Ä¶
// √Ä compl√©ter ici :</code></pre>
                        <div class="mb-3">
                            <label for="answer2" class="form-label">Votre ligne de r√©affectation :</label>
                            <input type="text" id="answer2" class="form-control" placeholder="ex : MY_POTION = 'mana';">
                        </div>
                        <div class="d-flex gap-2">
                            <button id="check2" class="btn btn-purple">V√©rifier</button>
                            <button id="show2" class="btn btn-outline-secondary">Solution</button>
                            <button id="reset2" class="btn btn-outline-danger">Relancer</button>
                        </div>
                        <div id="feedback2" class="mt-3"></div>
                        <div id="solution2" class="solution">
                            <code>MY_POTION = 'mana';</code><br>
                            ‚Üí TypeError : assignment to constant variable.
                        </div>
                        </div>
                        </div>
                        </section>

            <!-- Exercice 3 : styles de fonctions -->
            <section class="col-12">
                <div class="card h-100 shadow-sm">
                    <div class="card-header">3Ô∏è‚É£ Fonctions</div>
                    <div class="card-body">
                        <p><strong>Objectif :</strong> Associer chaque style de fonction √† sa caract√©ristique.</p>
                        <p><strong>√ânonc√© d√©taill√© :</strong><br>
                            Trois syntaxes de d√©claration en JS :<br>
                            ‚Äì <code>function foo(){‚Ä¶}</code> (classic, hoisted)<br>
                            ‚Äì <code>const foo = function(){‚Ä¶}</code> (expression)<br>
                            ‚Äì <code>const foo = ()=>{‚Ä¶}</code> (arrow)<br>
                            Choisis le bon type pour chaque description.
                        </p>
                        <!-- S√©lecteurs QCM -->
                        <div class="mb-3">
                            <label class="form-label">Classic (hoisted)</label>
                            <select id="q3a" class="form-select" data-correct="classic">
                                <option value="">-- Choisir --</option>
                                <option value="classic">function foo()‚Ä¶</option>
                                <option value="expression">const foo = function()‚Ä¶</option>
                                <option value="arrow">const foo = () => ‚Ä¶</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Expression</label>
                            <select id="q3b" class="form-select" data-correct="expression">
                                <option value="">-- Choisir --</option>
                                <option value="classic">function foo()‚Ä¶</option>
                                <option value="expression">const foo = function()‚Ä¶</option>
                                <option value="arrow">const foo = () => ‚Ä¶</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Arrow</label>
                            <select id="q3c" class="form-select" data-correct="arrow">
                                <option value="">-- Choisir --</option>
                                <option value="classic">function foo()‚Ä¶</option>
                                <option value="expression">const foo = function()‚Ä¶</option>
                                <option value="arrow">const foo = () => ‚Ä¶</option>
                            </select>
                        </div>
                        <div class="d-flex gap-2">
                            <button id="check3" class="btn btn-purple">V√©rifier</button>
                            <button id="show3" class="btn btn-outline-secondary">Solution</button>
                            <button id="reset3" class="btn btn-outline-danger">Relancer</button>
                        </div>
                        <div id="feedback3" class="mt-3"></div>
                        <div id="solution3" class="solution">
                            - Classic ‚Üí <code>classic</code><br>
                            - Expression ‚Üí <code>expression</code><br>
                            - Arrow ‚Üí <code>arrow</code>
                        </div>
                        </div>
                        </div>
                        </section>

            <!-- Exercice 4 et 5 : rallonge des exercices -->
            <div class="row gy-4 mt-4">
                <!-- Exercice 4 -->
                <section class="col-12 col-lg-6">
                    <div class="card h-100 shadow-sm">
                        <div class="card-header">4Ô∏è‚É£ Redeclaration <code>var</code> vs <code>let</code></div>
                        <div class="card-body">
                            <p><strong>Objectif :</strong> Comprendre la red√©claration de variables.</p>
                            <p><strong>√ânonc√© d√©taill√© :</strong><br>
                                Pr√©disez les deux logs : que renvoie <code>console.log</code> pour <code>a</code> et
                                <code>b</code> ?
                                Indiquez les deux r√©sultats par une virgule.
                            </p>
                            <pre class="code-snippet"><code>
                                // Code :
                                var a = 1;
                                var a = 2;
                                console.log(a);
                                
                                let b = 1;
                                let b = 2;
console.log(b);</code></pre>
                            <div class="mb-3">
                                <label for="answer4" class="form-label">Votre r√©ponse :</label>
                                <input type="text" id="answer4" class="form-control" placeholder="ex : 2,SyntaxError">
                            </div>
                            <div class="d-flex gap-2">
                                <button id="check4" class="btn btn-purple">V√©rifier</button>
                                <button id="show4" class="btn btn-outline-secondary">Solution</button>
                                <button id="reset4" class="btn btn-outline-danger">Relancer</button>
                            </div>
                            <div id="feedback4" class="mt-3"></div>
                            <div id="solution4" class="solution">
                                1 ‚Üí <code>2</code> (var red√©clar√© OK)<br>
                                2 ‚Üí <strong>SyntaxError</strong> (let interdite)
                            </div>
                            </div>
                            </div>
                            </section>
                <!-- Exercice 5 -->
                <section class="col-12 col-lg-6">
                    <div class="card h-100 shadow-sm">
                        <div class="card-header">5Ô∏è‚É£ Mutation & <code>const</code></div>
                        <div class="card-body">
                            <p><strong>Objectif :</strong> Diff√©rence r√©assignation vs mutation.</p>
                            <p><strong>√ânonc√© d√©taill√© :</strong><br>
                                Que renvoient ces deux logs ? Indiquez les r√©sultats par une virgule.
                            </p>
                            <pre class="code-snippet"><code>
                                // Code :
const potion = { level: 1 };
potion.level = 5;
console.log(potion.level);
potion = { level: 10 };
console.log(potion.level);</code></pre>
                            <div class="mb-3">
                                <label for="answer5" class="form-label">Votre r√©ponse :</label>
                                <input type="text" id="answer5" class="form-control" placeholder="ex : 5,TypeError">
                            </div>
                            <div class="d-flex gap-2">
                                <button id="check5" class="btn btn-purple">V√©rifier</button>
                                <button id="show5" class="btn btn-outline-secondary">Solution</button>
                                <button id="reset5" class="btn btn-outline-danger">Relancer</button>
                            </div>
                            <div id="feedback5" class="mt-3"></div>
                            <div id="solution5" class="solution">
                                1 ‚Üí <code>5</code> (mutation OK)<br>
                                2 ‚Üí <strong>TypeError</strong> (r√©assignation interdite)
                            </div>
                            </div>
                            </div>
                            </section>
            </div>
        </div>
    </main>

    <!-- Chargement Popper & Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.4.2/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>

    <!-- SCRIPT : validation & reset centralis√©s -->
    <script>
            // Fonction utilitaire pour configurer chaque exercice
            function makeExercise(id, validator) {
                const answer = document.getElementById(`answer${id}`);
                const feedback = document.getElementById(`feedback${id}`);
                const solution = document.getElementById(`solution${id}`);
                const checkBtn = document.getElementById(`check${id}`);
                const showBtn = document.getElementById(`show${id}`);
            const resetBtn = document.getElementById(`reset${id}`);

            // V√©rifier la r√©ponse
            checkBtn.onclick = () => {
                const { ok, msg } = validator(answer.value);
                feedback.innerHTML = ok
                    ? `<div class="alert alert-success">‚úÖ ${msg}</div>`
                    : `<div class="alert alert-danger">‚ùå ${msg}</div>`;
            };
            // Afficher la solution
            showBtn.onclick = () => solution.style.display = 'block';
            // Relancer l'exercice
            resetBtn.onclick = () => {
                answer.value = '';
                feedback.innerHTML = '';
                solution.style.display = 'none';
            };
        }

            // Exercice 1 : var vs let
            makeExercise(1, v => {
            const [a, b] = v.split(',').map(s => s.trim().toLowerCase());
            return {
                ok: a === '1' && b.startsWith('referenceerror'),
                msg: 'V√©rifi√©'
            };
        });

                // Exercice 2 : const r√©affectation
                makeExercise(2, v => ({
                    ok: v.trim() === "MY_POTION = 'mana';",
            msg: v.trim() === "MY_POTION = 'mana';" ? 'Exact !' : 'Syntaxe incorrecte'
        }));

                // Exercice 3 : fonctions (sp√©cial)
                document.getElementById('check3').onclick = () => {
                    const sels = ['q3a', 'q3b', 'q3c'].map(id => document.getElementById(id));
                    const ok = sels.every(s => s.value === s.dataset.correct);
                    document.getElementById('feedback3').innerHTML =
                        ok
                            ? '<div class="alert alert-success">‚úÖ Correct !</div>'
                            : '<div class="alert alert-danger">‚ùå 1 ou plusieurs erreurs</div>';
                };
                document.getElementById('show3').onclick = () => document.getElementById('solution3').style.display = 'block';
                document.getElementById('reset3').onclick = () => {
                    ['q3a', 'q3b', 'q3c'].forEach(id => document.getElementById(id).value = '');
                    document.getElementById('feedback3').innerHTML = '';
                    document.getElementById('solution3').style.display = 'none';
                };

                // Exercice 4 : redeclaration
                makeExercise(4, v => {
            const [x, y] = v.split(',').map(s => s.trim().toLowerCase());
            return {
                ok: x === '2' && y.startsWith('syntaxerror'),
                msg: 'V√©rifi√©'
            };
        });

                // Exercice 5 : mutation const
                makeExercise(5, v => {
            const [x, y] = v.split(',').map(s => s.trim().toLowerCase());
            return {
                ok: x === '5' && y.startsWith('typeerror'),
                msg: 'V√©rifi√©'
            };
        });
</script>
    
    </body>

</html>